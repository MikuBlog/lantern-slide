var showPictureBox=(function(){return function(obj){var picBox=document.querySelector(".pic-box");var backElem=document.querySelector(".pic-back");var images=document.querySelectorAll(".img-slide");var img=document.querySelector(".pic-img");var close=document.querySelector(".pic-close");var leftArrow=document.querySelector(".pic-left");var rightArrow=document.querySelector(".pic-right");var playButton=document.querySelector(".pic-play");var stopButton=document.querySelector(".pic-stop");var fullScreenButton=document.querySelector(".pic-fullscreen");var url=[];var index;var time;var isFullScreen=false;var nature=function(url){var image=new Image();image.src=url;if(document.body.clientWidth>document.body.clientHeight){if(image.width>image.height){img.style.width="65%";img.style.height="auto"}else{img.style.height="80%";img.style.width="auto"}}else{img.style.width="50%";img.style.height="auto";if(document.body.clientWidth<776){img.style.width="90%"}}};var handleClick=function(command){switch(command){case"hide":picBox.classList.add("pic-box-hide");picBox.classList.remove("pic-box-show");break;case"show":picBox.classList.add("pic-box-show");picBox.classList.remove("pic-box-hide");break;case"left":if(index==0){img.src=url[0];stopTime();showPlayButton();return}showPlayButton();nature(url[--index]);img.src=url[index];stopTime();break;case"right":if(index==url.length-1){img.src=url[url.length-1];stopTime();showPlayButton();return}showPlayButton();nature(url[++index]);img.src=url[index];stopTime();break}};var stopTime=function(){clearInterval(time)};var showPlayButton=function(){playButton.style.display="block";stopButton.style.display="none"};var showStopButton=function(){stopButton.style.display="block";playButton.style.display="none"};var fullScreen=function(element){var requestMethod=element.requestFullScreen||element.webkitRequestFullScreen||element.mozRequestFullScreen||element.msRequestFullScreen;if(requestMethod){requestMethod.call(element)}else{if(typeof window.ActiveXObject!=="undefined"){var wscript=new ActiveXObject("WScript.Shell");if(wscript!==null){wscript.SendKeys("{F11}")}}}};var exitFullScreen=function(element){var exitMethod=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.webkitExitFullscreen;if(exitMethod){exitMethod.call(document)}else{if(typeof window.ActiveXObject!=="undefined"){var wscript=new ActiveXObject("WScript.Shell");if(wscript!==null){wscript.SendKeys("{F11}")}}}};window.addEventListener("resize",function(){nature(url[index])});backElem.addEventListener("click",function(){handleClick("hide");stopTime();showPlayButton()});close.addEventListener("click",function(){handleClick("hide");exitFullScreen();stopTime();showPlayButton()});leftArrow.addEventListener("click",function(){handleClick("left")});rightArrow.addEventListener("click",function(){handleClick("right")});playButton.addEventListener("click",function(){showStopButton();time=setInterval(function(){if(index==url.length-1){nature(url[index=0]);img.src=url[index];return}nature(url[++index]);img.src=url[index]},obj.delay||3000)});stopButton.addEventListener("click",function(){showPlayButton();stopTime()});fullScreenButton.addEventListener("click",function(){if(isFullScreen==false){fullScreen(picBox);isFullScreen=true}else{exitFullScreen();isFullScreen=false}});images.forEach(function(value,ind){value.addEventListener("click",function(){handleClick("show");nature(value.src);img.src=value.src;index=ind});url.push(value.src)})}})();export default showPictureBox;
